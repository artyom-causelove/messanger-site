(function(e){function t(t){for(var a,i,o=t[0],c=t[1],u=t[2],p=0,h=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&h.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(h.length)h.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"035c":function(e,t,n){},"0c53":function(e,t,n){},"0d71":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAAEYCAIAAAAI7H7bAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDhDMUUxQTExQjZGMTFFN0IyQ0FGNzExNzNEMkI2RDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDhDMUUxQTIxQjZGMTFFN0IyQ0FGNzExNzNEMkI2RDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowOEMxRTE5RjFCNkYxMUU3QjJDQUY3MTE3M0QyQjZEOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowOEMxRTFBMDFCNkYxMUU3QjJDQUY3MTE3M0QyQjZEOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtOgH7EAAAZ2SURBVHja7N1dc9pGGIDR8mXjGNvJ//99XNmTgA0BJITyDmQyTeM2DUhoJZ1z5YtG1e7o0a7A4MF8Pv8LuMzQFICQQEggJEBIICQQEggJEBIICYQEQgKEBEICIYGQACGBkEBIICRASCAkEBIICRASCAmEBAgJhARCAiEBQgIhgZBASICQQEggJBASICQQEggJhAQICYQEQgIhAUICIYGQQEiAkEBIICRASCAkEBIICRASCAmEBEIChARCAiGBkAAhgZBASCAkQEggJBASCAkQEggJhARCAoQEQgIhAUICIYGQQEjAr8am4DcTNB5Pp9Obm5v4YTQaDQaDsiyLotjv91mWbbfb+MEwGcznc7PwrriwZrNZXFv//Z/FdbZareJSa+8wHx4eJpNJt4cppGZuzx8/fvxtQv+4zhaLRbtu2z0ZppCacXd3F5dX7G3+9B/GXiguss1mY5iekfru/v7+6enpzHvSYPDp06fhcLherw2zb7xq99NN+uzL64c4QhzHMIXU6+eiSg4Vx4mjGaaQ+ui8B4Z/2/xUdbEappDa5PQWSoUHjKPFMQ1TSP0ym80qP+bDw0Nqw6zjlOqYOiG19emo2vv0yWQySeoRIk7mt++6nrcoeVIS0vcNT+uObJhCSk4dy1HdRzZMIaW4tavpyHVspRI8maSGKaTGjEajuiZ3mND01ncySQ1TSI2p6n2Vax7ZMIWUnLIsW3dkwxRScg6HQ+uObJhCSk6e56078hnq+xBRUsMUUmOyLOvDFdaTYQqpMfV9fDqpT7/VdzI+5Cek73ueOu6pccykPpLdk2EKqUlvb2+VH3O1WqU2zDpOqY6pE1KLd3fVPkLE0RLc8MQpVT5M3yskpJ8sFouq3g85fT2IYQqpp09KVV0WKX9hVU+GKaSGdz7L5fLCg8QREn8VqyfDvDIfyfrJer0+HA6d/8K3ngzzmnxB5Ht3F9+02qFhCqlh//NLsfM8f3t76/x3f7d9mEJqWFxht7e3cduOH4bD4enPNMS+KO7Ku6Nu/ILMaZghlqkOD1NIkDSv2oGQQEggJEBIICQQEggJEBIICYQEQgKEBEICIYGQACGBkEBIICRASCAkEBIICRASCAmEBAgJhATJ8Bf73vf4+GgSfvX6+moShPQHZrOZSRCSrd2lyrI0CeZESC4acyKkBBwOB5NgToR0qaIoTII5EZKLxpwIKQH7/d4kCElIQqpenucmQUguGnMipCa2MV6k+ruYDVs7IZ0jyzKTYDaEdKndbmcShCQkIVVpu92aBCGdY39kHkyFkNyGzYOQErDZbEyCeRDSpfIjk2AShHSp9XptBlwGQqpgV9PnNyJj7PZ1QqpAWZZ9viXH2H2eT0iVXUz9/HWhGLV9nZCqXJRWq1UPBx6jthwJqeJFqW/vSMZ4LUdCqn5RWi6XvRpyjNdyJKTq7Xa7/rzBHyP1q4ZCcpO2/AopYUVRLBaLzg8zxugzfEKq12az+fr1a4cHGKPzDqyQrrTB6+rvnsW4bOqEdL1HiM+fP3fvLdoYUYzLK3VCuurDUseuudPdwaORkK4ty7LOtHSqyLcyCKkZu93uy5cvbW8pzj9G4V0jITVpu922el06rUU+SS6kJNall5eXNr72EOccZ24tElIq8jx/fn5u12vibTxnIXVfURRxd2/Le7VxnnG2XqOrkD/GXOXzxmKxiJ3S09PTcDhM+ST97oKQUhfXaJZl0dJ0Ok3t3Lbb7XK5tBDVYTCfz81CHe7u7h4fH0ejUSI7z9fXVwuRFamVS1OsAPf397PZrMGd3uFwWK1WvsPEitT+KR4MPnz4EDldeXU6fXVJb7+5RUidzSk2e1HUzc1N3f+veEg7fRrCKiSkzppMJlHUdDodjyveV+/3+9hMRj/eHRJSnx5Px+Pbo1ijzn6Iim1brD+7I395RUh9F49PsVKNj0ZHg6MfgUUw5VFxdPqDRbHyeC07lduiKUjBKQ/z0F5+RQiEBEICIQFCAiGBkEBIgJBASCAkEBIgJBASCAmEBAgJhARCAiEBQgIhgZBASICQQEggJEBIICQQEggJEBIICYQEQgKEBEICIYGQACGBkEBIICRASCAkEBIICRASCAmEBEIChARCAiEBQgIhgZBASICQQEggJBASICQQEggJhAQICYQEQgIhAUICIYGQQEiAkEBIICQQkikAIYGQQEiAkEBIICQQEvCObwIMAE+IxC2123jOAAAAAElFTkSuQmCC"},"0e2c":function(e,t,n){},"0e6a":function(e,t,n){"use strict";var a=n("035c"),r=n.n(a);r.a},"1e26":function(e,t,n){},"1ec2":function(e,t,n){"use strict";var a=n("2466"),r=n.n(a);r.a},2466:function(e,t,n){},2930:function(e,t,n){e.exports=n.p+"img/close.0139202b.svg"},"2e33":function(e,t,n){},3609:function(e,t,n){"use strict";var a=n("96a1"),r=n.n(a);r.a},4075:function(e,t,n){"use strict";var a=n("45d4"),r=n.n(a);r.a},"45d4":function(e,t,n){},"4bb2":function(e,t,n){"use strict";var a=n("1e26"),r=n.n(a);r.a},"52dd":function(e,t,n){e.exports=n.p+"img/artyom.5b056adf.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",attrs:{id:"app"}},["account"===e.$route.name?n("app-header",{staticClass:"app__account-header app__header",on:{showError:e.onShowError}},[n("app-editable-input",{staticClass:"app__account-header-input",on:{input:e.setInputValue,valueChanged:e.onNicknameChanged},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}})],1):"home"===e.$route.name?n("div"):n("app-header",{staticClass:"app__other-header app__header"},[n("span",{staticClass:"app__other-header-text"},[e._v(" "+e._s(e.$route.name[0].toUpperCase()+e.$route.name.slice(1))+" ")])]),n("router-view",{staticClass:"app__content",on:{showError:e.onShowError}}),"home"!==e.$route.name?n("app-footer",{staticClass:"app__footer"}):e._e(),n("transition",{attrs:{name:"fade",duration:"300"}},[""!=e.error?n("app-phone-modal-window",{staticClass:"app__modal-window",attrs:{closeButton:!0},on:{closeWindow:function(t){e.error=""}}},[e._v(e._s(e.error))]):e._e()],1)],1)},s=[],i=(n("b0c0"),n("96cf"),n("c964")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"app-header"},[n("button",{staticClass:"app-header__button",on:{click:e.onGoBack}},[n("svg",{staticClass:"app-header__icon",attrs:{width:"19",height:"31",viewBox:"0 0 19 31"}},[n("path",{attrs:{d:"m6.1199 15.507 11.597-11.598c0.3193-0.31856 0.495-0.7445 0.495-1.1987 \n        0-0.45442-0.1757-0.8801-0.495-1.1992l-1.0162-1.0157c-0.3188-0.31958-0.745-0.4955-1.1992-0.4955-0.4541 \n        0-0.8798 0.17592-1.1989 0.4955l-13.808 13.808c-0.32033 0.3201-0.49575 0.7478-0.49449 \n        1.2025-0.0012602 0.4567 0.1739 0.8839 0.49449 1.2042l13.795 13.794c0.3191 0.3196 \n        0.7448 0.4955 1.1992 0.4955 0.4542 0 0.8799-0.1759 1.1992-0.4955l1.0159-1.0157c0.6611-0.6611 \n        0.6611-1.7372 0-2.3981l-11.584-11.584z"}})])]),e._t("default"),n("button",{staticClass:"app-header__button",on:{click:e.onLogout}},[n("svg",{staticClass:"app-header__icon",attrs:{width:"31",height:"31",viewBox:"0 0 31 31"}},[n("path",{attrs:{d:"m30.9 13.715c-0.0659-0.1576-0.1602-0.3009-0.2803-0.4211l-3.8737-3.8737c-0.505-0.50375-1.3214-0.50375-1.8264 \n        0-0.505 0.50502-0.505 1.3226 0 1.8264l1.6701 1.6701h-7.2153c-0.7143 0-1.2916 \n        0.5787-1.2916 1.2917s0.5773 1.2916 1.2916 1.2916h7.2152l-1.6701 1.6701c-0.505 \n        0.5051-0.505 1.3227 0 1.8264 0.2519 0.2532 0.5825 0.3785 0.9132 0.3785 0.3308 \n        0 0.6614-0.1253 0.9133-0.3785l3.8737-3.8737c0.1201-0.1189 0.2144-0.2622 \n        0.2803-0.4211 0.1304-0.315 0.1304-0.6715 0-0.9867z"}}),n("path",{attrs:{d:"m21.958 18.083c-0.7143 0-1.2917 0.5787-1.2917 \n        1.2917v6.4583h-5.1666v-20.667c0-0.56963-0.3746-1.0734-0.921-1.2374l-4.486-1.3459h10.574v6.4583c0 \n        0.713 0.5774 1.2916 1.2917 1.2916 0.7142 0 1.2916-0.57861 \n        1.2916-1.2916v-7.75c0-0.71306-0.5774-1.2917-1.2916-1.2917h-20.667c-0.0465 0-0.08785 \n        0.019375-0.13302 0.024521-0.06073 0.0064785-0.11625 0.016772-0.17437 0.031-0.13562 \n        0.034875-0.25835 0.087854-0.37327 0.16015-0.028396 0.018103-0.063271 \n        0.019375-0.090396 0.040021-0.010414 0.00781-0.014289 0.022039-0.024642 0.029789-0.14077 \n        0.11104-0.25829 0.24667-0.34354 0.40815-0.018103 0.034875-0.021978 0.072353-0.036146 \n        0.1085-0.041354 0.098147-0.086522 0.19375-0.10202 0.30225-0.0064785 0.03875 0.0051465 \n        0.0749 0.003875 0.11238-0.0012715 0.02585-0.018104 0.0491-0.018104 0.07489v25.833c0 \n        0.6162 0.43527 1.1458 1.0385 1.2659l12.917 2.5833c0.084 0.0182 0.1692 0.0259 0.2532 \n        0.0259 0.2957 0 0.5864-0.102 0.8189-0.2932 0.2983-0.2454 0.4727-0.611 \n        0.4727-0.9985v-1.2916h6.4584c0.7142 0 1.2916-0.5787 \n        1.2916-1.2917v-7.75c0-0.713-0.5774-1.2917-1.2916-1.2917z"}})])])],2)},c=[],u=(n("d3b7"),n("276c")),l=n("e954"),p=n("e1a7"),h=n("f20d"),d=n("920b"),m=n("fc11");function g(e){return new Promise((function(t,n){var a=new FileReader;a.addEventListener("load",(function(){t(a.result)})),a.readAsDataURL(e)}))}var f=function(){function e(){Object(u["a"])(this,e),Object(m["a"])(this,"rootUrl","https://messanger-backend.herokuapp.com/")}return Object(l["a"])(e,[{key:"getApiKey",value:function(){return JSON.parse(window.localStorage.getItem("apiKey"))}},{key:"setApiKey",value:function(e){window.localStorage.setItem("apiKey",JSON.stringify(e))}},{key:"removeApiKey",value:function(){window.localStorage.removeItem("apiKey")}},{key:"stringifyImage",value:function(e){return g(e)}}]),e}(),v=function(e){function t(){return Object(u["a"])(this,t),Object(p["a"])(this,Object(h["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"logout",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.getApiKey(),!t){e.next=9;break}return e.next=4,fetch(this.rootUrl+"users/logout",{headers:{Authorization:"Bearer ".concat(t)}});case 4:if(n=e.sent,!n.message){e.next=7;break}throw new Error(n.message);case 7:return this.removeApiKey(),e.abrupt("return",!0);case 9:throw new Error("apiKey not found");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"login",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.stringify({personalId:t,password:n}),e.next=3,fetch(this.rootUrl+"users/login",{method:"post",body:a,headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:if(s=e.sent,!s.errorMessage){e.next=11;break}throw new Error(s.errorMessage);case 11:if(!s.message){e.next=13;break}throw new Error(s.message);case 13:return delete s.__v,this.setApiKey(s.apiKey),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"loginByApiKey",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.getApiKey(),!t){e.next=16;break}return e.next=4,fetch(this.rootUrl+"users/loginByApiKey",{headers:{Authorization:"Bearer ".concat(t)}});case 4:return n=e.sent,e.next=7,n.json();case 7:if(a=e.sent,!a.errorMessage){e.next=12;break}throw new Error(a.errorMessage);case 12:if(!a.message){e.next=14;break}throw new Error(a.message);case 14:return delete a.__v,e.abrupt("return",a);case 16:throw new Error("apiKey not found");case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"signUp",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n,a){var r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=JSON.stringify({personalId:t,nickname:n,password:a}),e.next=3,fetch(this.rootUrl+"users",{method:"post",body:r,headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,e.next=6,s.json();case 6:if(i=e.sent,!i.errorMessage){e.next=11;break}throw new Error(i.errorMessage);case 11:if(!i.message){e.next=13;break}throw new Error(i.message);case 13:return delete i.__v,e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"edit",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.stringify(n),r=this.getApiKey(),e.next=4,fetch(this.rootUrl+"users/"+t,{method:"put",body:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 4:return s=e.sent,e.next=7,s.json();case 7:if(i=e.sent,!i.errorMessage){e.next=12;break}throw new Error(i.errorMessage);case 12:if(!i.message){e.next=14;break}throw new Error(i.message);case 14:return delete i.__v,e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"checkPassword",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.stringify({password:n}),r=this.getApiKey(),e.next=4,fetch(this.rootUrl+"users/password/"+t,{method:"post",body:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 4:return s=e.sent,e.next=7,s.json();case 7:if(i=e.sent,!i.errorMessage){e.next=12;break}throw new Error(i.errorMessage);case 12:if(!i.message){e.next=14;break}throw new Error(i.message);case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),t}(f),w=new v,_={name:"app-header",methods:{onGoBack:function(){this.$router.go(-1)},onLogout:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.logout();case 3:e.$router.push({name:"home"}),e.$store.commit("setDefaultUser"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}},C=_,b=(n("6832"),n("2877")),k=Object(b["a"])(C,o,c,!1,null,"702ccc10",null),x=k.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-phone-modal-window"},[a("div",{staticClass:"app-phone-modal-window__content"},[e._t("default")],2),e.closeButton?a("button",{staticClass:"app-phone-modal-window__close-button",on:{click:function(t){return e.$emit("closeWindow")}}},[a("img",{staticClass:"app-phone-modal-window__close-button-icon",attrs:{src:n("2930")}})]):e._e()])},y=[],I=a["a"].extend({props:{closeButton:{default:!1,type:Boolean}}}),A=I,$=(n("e991"),Object(b["a"])(A,E,y,!1,null,"7a4b547f",null)),j=$.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-ediatable-input"},[n("input",{ref:"input",staticClass:"app-ediatable-input__input",attrs:{maxlength:e.maxlength,placeholder:e.placeholder,type:e.type},domProps:{value:e.value},on:{input:e.onInput,change:e.valueChanged}}),n("button",{staticClass:"app-ediatable-input__button",on:{click:e.startEdit}},[n("svg",{staticClass:"app-ediatable-input__icon",style:{fill:e.borderColor},attrs:{viewBox:"0 0 19 19"}},[n("path",{attrs:{d:"m11.815 3.1554 3.865 3.865-9.7835 9.7835-3.8628-3.865 \n        9.7813-9.7835zm6.7978-0.93215-1.7236-1.7236c-0.6662-0.66613-1.7478-0.66613-2.4162 \n        0l-1.6511 1.6511 3.865 3.865 1.9259-1.9259c0.5167-0.51669 0.5167-1.3499 \n        0-1.8666zm-18.602 16.148c-0.070339 0.3166 0.21547 0.6002 0.53207 \n        0.5232l4.3069-1.0442-3.8628-3.865-0.97615 4.386z"}})])]),n("div",{staticClass:"app-ediatable-input__border",style:{backgroundColor:e.initialBorderColor}}),n("div",{staticClass:"app-ediatable-input__border",style:{backgroundColor:e.borderColor}})])},R=[],S=a["a"].extend({name:"app-ediatable-input",props:{maxlength:{default:Number.MAX_SAFE_INTEGER.toString(),type:String},value:{default:"",type:String},type:{default:"text",type:String},placeholder:{default:"",type:String},initialBorderColor:{default:"transparent",type:String},borderColor:{default:"whitesmoke",type:String}},methods:{onInput(e){this.$emit("input",e.srcElement.value)},startEdit(){this.$refs.input.focus()},valueChanged(e){this.$emit("valueChanged",e.srcElement.value)}}}),B=S,Q=(n("0e6a"),Object(b["a"])(B,O,R,!1,null,"5cac54ec",null)),P=Q.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"app-footer"},[n("router-link",{staticClass:"app-footer__link",attrs:{to:"/news","active-class":"active"}},[n("svg",{staticClass:"app-footer__icon",attrs:{width:"31",height:"31",viewBox:"0 0 31 31"}},[n("path",{attrs:{d:"m29.893 7.75h-5.5357v-6.6429c0-0.61148-0.4956-1.1072-1.1071-1.1072h-22.143c-0.61148 \n        0-1.1072 0.49568-1.1072 1.1072v25.464c0 2.4459 1.9827 4.4286 4.4286 4.4286h22.143c2.4459 0 \n        4.4286-1.9827 4.4286-4.4286v-17.714c0-0.61142-0.4957-1.1071-1.1072-1.1071zm-21.036-2.2143h6.6429c0.6114 \n        0 1.1071 0.49568 1.1071 1.1072s-0.4957 1.1072-1.1071 1.1072h-6.6429c-0.61148 \n        0-1.1072-0.49569-1.1072-1.1072s0.49575-1.1072 1.1072-1.1072zm9.9643 21.036h-13.286c-0.61148 \n        0-1.1072-0.4957-1.1072-1.1072 0-0.6114 0.49569-1.1071 1.1072-1.1071h13.286c0.6115 0 1.1072 \n        0.4957 1.1072 1.1071 0 0.6115-0.4957 1.1072-1.1072 1.1072zm0-4.4286h-13.286c-0.61148 \n        0-1.1072-0.4957-1.1072-1.1071 0-0.6115 0.49569-1.1072 1.1072-1.1072h13.286c0.6115 0 \n        1.1072 0.4957 1.1072 1.1072 0 0.6114-0.4957 1.1071-1.1072 1.1071zm0-4.4285h-13.286c-0.61148 \n        0-1.1072-0.4957-1.1072-1.1072 0-0.6114 0.49569-1.1071 1.1072-1.1071h13.286c0.6115 0 1.1072 \n        0.4957 1.1072 1.1071 0 0.6115-0.4957 1.1072-1.1072 1.1072zm0-4.4286h-13.286c-0.61148 \n        0-1.1072-0.4957-1.1072-1.1072 0-0.6114 0.49569-1.1071 1.1072-1.1071h13.286c0.6115 0 \n        1.1072 0.4957 1.1072 1.1071 0 0.6115-0.4957 1.1072-1.1072 1.1072zm9.9643 13.286c0 \n        1.2229-0.9914 2.2143-2.2143 2.2143s-2.2143-0.9914-2.2143-2.2143v-16.607h4.4286v16.607z"}})])]),n("router-link",{staticClass:"app-footer__link",attrs:{to:"/notifycation","active-class":"active"}},[n("svg",{staticClass:"app-footer__icon",attrs:{width:"26",height:"31",viewBox:"0 0 26 31"}},[n("path",{attrs:{d:"m12.718 31c1.7566 0 3.1795-1.4228 3.1795-3.1795h-6.359c-7e-5 1.7567 1.4228 3.1795 3.1795 3.1795z"}}),n("path",{attrs:{d:"m22.256 21.462v-7.9487c0-4.8885-2.5992-8.9662-7.1538-10.047v-1.081c0-1.3195-1.0651-2.3846-2.3846-2.3846s-2.3846 \n        1.0651-2.3846 2.3846v1.081c-4.5547 1.081-7.1539 5.1587-7.1539 10.047v7.9486l-3.1795 \n        3.1796v1.5897h25.436v-1.5897l-3.1795-3.1796z"}})])]),n("router-link",{staticClass:"app-footer__link",attrs:{to:"/messages","active-class":"active"}},[n("svg",{staticClass:"app-footer__icon",attrs:{width:"40",height:"31",viewBox:"0 0 40 31"}},[n("path",{attrs:{d:"m3.7869 9.5554c0.4991 0.35219 2.0036 1.3982 4.5135 3.1375 2.5099 1.7393 4.4328 \n        3.0785 5.7685 4.0177 0.1468 0.103 0.4585 0.3267 0.9355 0.6717 0.477 0.3452 0.8734 0.6241 \n        1.1888 0.8369 0.3157 0.2126 0.6972 0.4512 1.1451 0.7154 0.4478 0.2639 0.8698 0.4624 1.2661 \n        0.5938 0.3964 0.1325 0.7633 0.1981 1.1009 0.1981h0.0443c0.3376 0 0.7046-0.0657 1.101-0.1981 \n        0.3962-0.1314 0.8186-0.3302 1.266-0.5938 0.4475-0.2645 0.8291-0.5028 1.1448-0.7154 \n        0.3156-0.2128 0.7117-0.4917 1.1889-0.8369 0.4768-0.3453 0.789-0.5687 0.9358-0.6717 \n        1.3501-0.9392 4.7851-3.3245 10.304-7.1556 1.0714-0.74826 1.9666-1.6511 2.6857-2.708 \n        0.7197-1.0564 1.0791-2.1647 1.0791-3.3241 \n        0-0.9689-0.3488-1.7983-1.0461-2.4881-0.6972-0.68996-1.5229-1.0348-2.4767-1.0348h-32.409c-1.1302 \n        0-1.9999 0.38157-2.609 1.1447-0.60907 0.7633-0.9136 1.7174-0.9136 2.8622 0 0.9247 0.40378 1.9268 \n        1.211 3.0055 0.8071 1.0789 1.666 1.9266 2.5759 2.543z"}}),n("path",{attrs:{d:"m37.253 11.911c-4.8139 3.2583-8.4692 5.7905-10.964 7.5961-0.8366 0.6162-1.5153 1.0973-2.0365 \n        1.442-0.5213 0.3449-1.2145 0.6972-2.0806 1.0566-0.8659 0.36-1.6729 0.5395-2.4216 0.5395h-0.0446c-0.7485 \n        0-1.5559-0.1795-2.4218-0.5395-0.8659-0.3594-1.5595-0.7117-2.0806-1.0566-0.5209-0.3447-1.1999-0.8258-2.0364-1.442-1.9817-1.453-5.6291-3.9854-10.943-7.5961-0.83687-0.5574-1.5781-1.1963-2.224-1.9154v17.481c0 \n        0.9693 0.34479 1.7982 1.0348 2.4881 0.68981 0.6901 1.5193 1.0351 2.4881 1.0351h32.409c0.9686 0 \n        1.798-0.345 2.4878-1.0351 0.6902-0.6901 1.0348-1.5187 1.0348-2.4881v-17.481c-0.6313 \n        0.70419-1.365 1.3431-2.2021 1.9154z"}})])]),n("router-link",{staticClass:"app-footer__link",attrs:{to:"/account","active-class":"active"}},[n("svg",{staticClass:"app-footer__icon",attrs:{width:"27",height:"31",viewBox:"0 0 27 31"}},[n("path",{attrs:{d:"m13.029 14.377c3.97 0 7.1884-3.2183 7.1884-7.1884 \n        0-3.97-3.2184-7.1884-7.1884-7.1884-3.9701 0-7.1884 3.2184-7.1884 \n        7.1884 0 3.9701 3.2184 7.1884 7.1884 7.1884z"}}),n("path",{attrs:{d:"M13.029 17.971C5.83327 17.971 0 23.8043 0 31H26.058C26.058 \n        23.8043 20.2247 17.971 13.029 17.971Z"}})])]),n("router-link",{staticClass:"app-footer__link",attrs:{to:"/friends","active-class":"active"}},[n("svg",{staticClass:"app-footer__icon",attrs:{width:"40",height:"31",viewBox:"0 0 40 31"}},[n("path",{attrs:{d:"m12.107 0c-4.0166 0-7.2843 3.4647-7.2843 7.7233 0 4.2586 3.2677 7.7232 \n        7.2843 7.7232 4.0166 0 7.2843-3.4646 7.2843-7.7232 0-4.2586-3.2676-7.7233-7.2843-7.7233z"}}),n("path",{attrs:{d:"m28.668 1.1052c-0.0164 0-0.0331 8e-5 -0.0495 1.6e-4 -1.6857 0.01395-3.2602 \n        0.72567-4.4334 2.0042-1.1526 1.2559-1.7794 2.9128-1.765 4.6653 0.0145 1.7525 0.6686 \n        3.3988 1.8417 4.6357 1.1824 1.2464 2.7487 1.9309 4.4157 1.9309 0.0167 0 0.0335-1e-4 \n        0.0503-2e-4 1.6857-0.0139 3.2601-0.7257 4.4334-2.0042 1.1526-1.2559 1.7794-2.9128 \n        1.765-4.6654-0.0301-3.6318-2.8326-6.5665-6.2582-6.5665z"}}),n("path",{attrs:{d:"m28.975 15.606h-0.6049c-2.8169 0-5.3875 1.071-7.3284 2.8263 0.4856 0.3726 \n        0.9479 0.7787 1.3859 1.2167 1.2923 1.2924 2.3072 2.7983 3.0165 4.4757 0.6391 1.5105 \n        1.0039 3.1022 1.0889 4.7413h13.375v-2.3282c0-6.0275-4.9043-10.932-10.933-10.932z"}}),n("path",{attrs:{d:"m24.19 28.866c-0.2205-3.5535-2.0218-6.6791-4.7102-8.6823-1.9556-1.4576-4.3813-2.3204-7.0088-2.3204h-0.728c-6.4858 \n        0-11.743 5.2574-11.743 11.743v1.3936h24.214v-1.3936c0-0.2487-0.0078-0.4958-0.0234-0.7405z"}})])])],1)},M=[],L={name:"app-footer"},z=L,T=(n("7498"),Object(b["a"])(z,U,M,!1,null,"52510472",null)),G=T.exports,N=(n("d81d"),function(e){function t(){return Object(u["a"])(this,t),Object(p["a"])(this,Object(h["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"getConferences",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),a=this.getApiKey(),e.next=4,fetch(this.rootUrl+"conferences/byIds",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:n});case 4:return r=e.sent,e.next=7,r.json();case 7:if(s=e.sent,!s.errorMessage){e.next=12;break}throw new Error(s.errorMessage);case 12:if(!s.message){e.next=14;break}throw new Error(s.message);case 14:return i=s.map((function(e){return delete e.__v,e})),e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"create",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={name:t},n&&(a.avatar=n),a=JSON.stringify(a),r=this.getApiKey(),e.next=6,fetch(this.rootUrl+"conferences",{method:"post",body:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 6:return s=e.sent,e.next=9,s.json();case 9:if(i=e.sent,!i.errorMessage){e.next=14;break}throw new Error(i.errorMessage);case 14:if(!i.message){e.next=16;break}throw new Error(i.message);case 16:return delete i.__v,e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"edit",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.stringify(n),r=this.getApiKey(),e.next=4,fetch(this.rootUrl+"conferences/"+t,{method:"put",body:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 4:return s=e.sent,e.next=7,s.json();case 7:if(i=e.sent,!i.errorMessage){e.next=12;break}throw new Error(i.errorMessage);case 12:if(!i.message){e.next=14;break}throw new Error(i.message);case 14:return delete i.__v,e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),t}(f)),V=new N,Z=n("b5ae"),H={name:"app",data:function(){return{error:"",user:this.$store.state.user.getValue(),nickname:"Loading...",nicknameError:""}},validations:{nickname:{required:Z["required"]}},watch:{$v:{handler:function(e){this.$v.nickname.$dirty&&(this.$v.nickname.required?this.nicknameError="":this.nicknameError="Min count of chars is 1")},deep:!0}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.state.user.subscribe(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.user=n,null!==e.user||"home"===e.$route.name){t.next=6;break}e.$router.push({name:"home"}),e.error="You are not sign in",t.next=12;break;case 6:if(!e.user){t.next=12;break}return e.nickname=e.user.nickname,t.next=10,V.getConferences(e.user.conferences);case 10:a=t.sent,e.$store.commit("setConferences",a);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.prev=1,t.next=4,w.loginByApiKey();case 4:n=t.sent,e.$store.commit("setUser",n),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0.message),e.$store.commit("setDefaultUser");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},methods:{onShowError:function(e){this.error=e},setInputValue:function(){this.$v.nickname.$touch()},onNicknameChanged:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.$v.nickname.required){n.next=4;break}return t.nickname=t.user.nickname,t.$emit("showError",t.nicknameError),n.abrupt("return");case 4:if(n.prev=4,e===t.user.nickname){n.next=10;break}return n.next=8,w.edit(t.user._id,{nickname:e});case 8:a=n.sent,t.$store.commit("setUser",a);case 10:n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](4),t.$emit("showError",n.t0.message),t.nickname=t.user.nickname;case 16:case"end":return n.stop()}}),n,null,[[4,12]])})))()}},components:{AppHeader:x,AppFooter:G,appPhoneModalWindow:j,AppEditableInput:P}},D=H,J=(n("5c0b"),Object(b["a"])(D,r,s,!1,null,null,null)),q=J.exports,Y=n("9483");Object(Y["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var K=n("8c4f"),F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home-page"},[n("section",{staticClass:"preview"},[e._m(0),n("app-wave-animation",{staticClass:"preview__animation"}),e._m(1)],1),e._m(2),n("section",{staticClass:"auth",attrs:{id:"authForm"}},[n("app-auth-form",{staticClass:"auth__form",attrs:{user:e.user,isLoading:e.isLoading},on:{logouted:e.logout,signedIn:e.signInUser,signedUp:e.signUpNewUser,toAccountClicked:e.redirectToAccount}})],1),n("section",{staticClass:"our-advantages",attrs:{id:"ourAdvantages"}},[n("p",{staticClass:"our-advantages__item"},[e._v(" Communicate using messanger and be sure that no one will find out anything extra about you ")]),n("p",{staticClass:"our-advantages__item"},[e._v(" Messanger will not allow your data to leak during transmission ")]),n("p",{staticClass:"our-advantages__item"},[e._v(" Messanger will protect your data even if an attacker has direct access to your phone ")]),n("a",{attrs:{href:"#authForm"}},[n("app-button",{staticClass:"our-advantages__button"},[n("span",{staticClass:"our-advantages__button-text"},[e._v("Sign up")])])],1)]),e._m(3),e._m(4)])},W=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo-container"},[a("img",{staticClass:"logo-container__icon",attrs:{src:n("e347")}}),a("span",{staticClass:"logo-container__name"},[e._v(" essanger ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"#ourAdvantages"}},[n("button",{staticClass:"preview__button"},[e._v("i")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"about-project"},[n("p",{staticClass:"about-project__text"},[e._v(" Fully anonymous and secure messenger. ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"author"},[n("span",{staticClass:"author__text"},[e._v("Causelove")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"awesome-team"},[a("p",{staticClass:"awesome-team__title"},[e._v("Team")]),a("div",{staticClass:"awesome-team__wrapper"},[a("div",{staticClass:"awesome-team__column"},[a("div",{staticClass:"awesome-team__column-item"},[a("img",{staticClass:"awesome-team__column-image",attrs:{src:n("78ac")}}),a("p",{staticClass:"awesome-team__column-name"},[e._v("Alex")])]),a("div",{staticClass:"awesome-team__column-item"},[a("img",{staticClass:"awesome-team__column-image",attrs:{src:n("d2ad")}}),a("p",{staticClass:"awesome-team__column-name"},[e._v("Andrey")])])]),a("div",{staticClass:"awesome-team__column"},[a("div",{staticClass:"awesome-team__column-item"},[a("img",{staticClass:"awesome-team__column-image",attrs:{src:n("8999")}}),a("p",{staticClass:"awesome-team__column-name"},[e._v("Coach")])])]),a("div",{staticClass:"awesome-team__column"},[a("div",{staticClass:"awesome-team__column-item"},[a("img",{staticClass:"awesome-team__column-image",attrs:{src:n("8555")}}),a("p",{staticClass:"awesome-team__column-name"},[e._v("Vovan")])]),a("div",{staticClass:"awesome-team__column-item"},[a("img",{staticClass:"awesome-team__column-image",attrs:{src:n("52dd")}}),a("p",{staticClass:"awesome-team__column-name"},[e._v("Artyom")])])])])])}],X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"form",staticClass:"app-auth-form",style:{height:e.realHeight+"px"}},[a("div",{staticClass:"app-auth-form__title-wrapper"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isLogin?a("div",{key:"login",staticClass:"app-auth-form__title"},[a("span",{staticClass:"app-auth-form__action"},[e._v("Sign in")]),a("img",{staticClass:"app-auth-form__action-image",attrs:{loading:"eager",src:n("d625")}})]):a("div",{key:"register",staticClass:"app-auth-form__title"},[a("span",{staticClass:"app-auth-form__action"},[e._v("Sign up")]),a("img",{staticClass:"app-auth-form__action-image",attrs:{src:n("99e0")}})])])],1),a("div",{staticClass:"app-auth-form__title-decor"}),a("span",{ref:"span",staticClass:"app-auth-form__label"},[e._v("Login:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.login,expression:"login"}],ref:"input",staticClass:"app-input app-auth-form__input",domProps:{value:e.login},on:{input:[function(t){t.target.composing||(e.login=t.target.value)},function(t){return e.setInputValue(1)}]}}),a("span",{ref:"error",staticClass:"app-auth-form__error"},[e._v(e._s(e.loginError))]),a("span",{staticClass:"app-auth-form__label"},[e._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"app-input app-auth-form__input",attrs:{type:"password"},domProps:{value:e.password},on:{input:[function(t){t.target.composing||(e.password=t.target.value)},function(t){return e.setInputValue(2)}]}}),a("span",{staticClass:"app-auth-form__error"},[e._v(e._s(e.passwordError))]),a("transition",{attrs:{name:"fade",mode:"in-out"}},["full"===e.formState?a("div",{staticClass:"app-auth-form__input-wrapper"},[a("span",{staticClass:"app-auth-form__label"},[e._v("Nickname:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],staticClass:"app-input app-auth-form__input",domProps:{value:e.nickname},on:{input:[function(t){t.target.composing||(e.nickname=t.target.value)},function(t){return e.setInputValue(3)}]}}),a("span",{staticClass:"app-auth-form__error"},[e._v(e._s(e.nicknameError))])]):e._e()]),a("div",{ref:"wrapper",staticClass:"app-auth-form__button-wrapper"},[a("app-button",{staticClass:"app-auth-form__button",attrs:{disabled:e.inAnimation},on:{click:e.swapAction}},[a("span",{staticClass:"app-auth-form__button-text"},[e._v(e._s(e.isLogin?"Sign up":"Sign in"))])]),a("app-button",{staticClass:"app-auth-form__button",attrs:{disabled:e.isDisabledGo},on:{click:e.startAction}},[a("span",{staticClass:"app-auth-form__button-text"},[e._v("Go")])])],1),a("transition",{attrs:{name:"fade"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"app-auth-form__loading",attrs:{src:n("afd7")}})]),e.user?a("div",{staticClass:"app-auth-form__already-login"},[a("app-button",{staticClass:"app-auth-form__already-login-button",on:{click:function(t){return e.$emit("toAccountClicked")}}},[e._v("To account")]),a("app-button",{staticClass:"app-auth-form__already-login-button",on:{click:function(t){return e.$emit("logouted")}}},[e._v("Logout")])],1):e._e()],1)},ee=[],te=(n("ac1f"),n("5319"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"app-button",attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("click")}}},[n("span",{staticClass:"app-button__text"},[e._t("default")],2)])}),ne=[],ae={name:"app-button",props:{disabled:{default:!1,type:Boolean}}},re=ae,se=(n("3609"),Object(b["a"])(re,te,ne,!1,null,"7b5310bb",null)),ie=se.exports,oe={name:"app-auth-form",props:{isLoading:{type:Boolean,required:!0},user:{required:!0}},data:function(){return{login:"",nickname:"",password:"",isLogin:!0,formState:"small",realHeight:"auto",formHeight:null,inAnimation:!1,loginError:"",passwordError:"",nicknameError:""}},validations:{login:{required:Z["required"],minLength:Object(Z["minLength"])(5)},password:{required:Z["required"],minLength:Object(Z["minLength"])(8)},nickname:{required:Z["required"],minLength:Object(Z["minLength"])(1)}},watch:{$v:{handler:function(e){this.$v.login.$dirty&&(this.$v.login.required?this.$v.login.minLength?this.loginError="":this.loginError="Minimum length is 5 characters":this.loginError="The field is required"),this.$v.password.$dirty&&(this.$v.password.required?this.$v.password.minLength?this.passwordError="":this.passwordError="Minimum length is 8 characters":this.passwordError="The field is required"),this.$v.nickname.$dirty&&(this.$v.nickname.required?this.$v.nickname.minLength?this.nicknameError="":this.nicknameError="Minimum length is 1 characters":this.nicknameError="The field is required")},deep:!0}},computed:{isDisabledGo:function(){if(this.isLogin){if(!this.$v.login.$invalid&&!this.$v.password.$invalid)return!1}else if(!this.$v.login.$invalid&&!this.$v.password.$invalid&&!this.$v.nickname.$invalid)return!1;return!0}},mounted:function(){var e=this.$refs["form"].clientHeight+this.$refs["wrapper"].clientHeight;this.formHeight=e,this.realHeight=e},methods:{setInputValue:function(e){switch(e){case 1:this.$v.login.$touch();break;case 2:this.$v.password.$touch();break;case 3:this.$v.nickname.$touch();break}},startAction:function(){this.isLogin?this.$emit("signedIn",{login:this.login,password:this.password}):this.$emit("signedUp",{login:this.login,nickname:this.nickname,password:this.password})},swapAction:function(){this.isLogin=!this.isLogin,this.isLogin?this.reduceFormHeight():this.inreaseFormHeight()},inreaseFormHeight:function(){var e=this,t=this.$refs["input"],n=this.$refs["span"],a=this.$refs["error"],r=this.$refs["form"],s=t.clientHeight+ +t.style.borderWidth.replace("px",""),i=n.clientHeight,o=a.clientHeight;this.realHeight=r.clientHeight+s+i+o,this.inAnimation=!0,setTimeout((function(){e.formState="full",e.inAnimation=!1}),500)},reduceFormHeight:function(){var e=this;this.formState="small",this.inAnimation=!0,setTimeout((function(){e.realHeight=e.formHeight,setTimeout((function(){e.inAnimation=!1}),500)}),500)}},components:{appButton:ie}},ce=oe,ue=(n("4bb2"),Object(b["a"])(ce,X,ee,!1,null,"6707ffb4",null)),le=ue.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cssload-loader"})},he=[],de=(n("7dde"),{}),me=Object(b["a"])(de,pe,he,!1,null,"5bff4b72",null),ge=me.exports,fe={name:"Home",data:function(){return{isLoading:!1,user:this.$store.state.user.getValue()}},created:function(){var e=this;this.$store.state.user.subscribe((function(t){e.user=t}))},methods:{signUpNewUser:function(e){var t=this,n=e.login,a=e.nickname,r=e.password;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,w.signUp(n,a,r);case 4:t.signInUser({login:n,password:r}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),t.$emit("showError",e.t0.message);case 10:return e.prev=10,t.isLoading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})))()},signInUser:function(e){var t=this,n=e.login,a=e.password;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,w.login(n,a);case 4:r=e.sent,t.$store.commit("setUser",r),t.$router.push({name:"account"}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),t.$emit("showError",e.t0.message);case 12:return e.prev=12,t.isLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))()},logout:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.logout();case 3:e.$store.commit("setDefaultUser"),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.$emit("showError",t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},redirectToAccount:function(){this.$router.push({name:"account"})}},components:{appAuthForm:le,appWaveAnimation:ge,appButton:ie}},ve=fe,we=(n("1ec2"),Object(b["a"])(ve,F,W,!1,null,"66f53ada",null)),_e=we.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"account"},[a("app-avatar-input",{staticClass:"account__avatar-input",attrs:{src:e.user?e.user.avatar:null},on:{imageChanged:e.onImageChanged}}),a("span",{staticClass:"account__info-error"},[e._v(e._s(e.statusError))]),a("div",{staticClass:"account__input-wrapper"},[a("span",{staticClass:"account__info-label"},[e._v("Status:")]),a("app-editable-input",{staticClass:"account__info-input",attrs:{borderColor:"#3f51b5",initialBorderColor:"#c5cae9",maxlength:"30"},on:{valueChanged:function(t){return e.onInfoChanged("status",t)},input:function(t){return e.setInputValue("status")}},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1),a("span",{staticClass:"account__info-error"},[e._v(e._s(e.ageError))]),a("div",{staticClass:"account__input-wrapper"},[a("span",{staticClass:"account__info-label"},[e._v("Age:")]),a("app-editable-input",{staticClass:"account__info-input",attrs:{borderColor:"#3f51b5",initialBorderColor:"#c5cae9",maxlength:"3"},on:{valueChanged:function(t){return e.onInfoChanged("age",t)},input:function(t){return e.setInputValue("age")}},model:{value:e.age,callback:function(t){e.age=t},expression:"age"}})],1),a("app-button",{staticClass:"account__reset-button",on:{click:e.turnIsChangingPassword}},[e._v(" Change password ")]),a("transition",{attrs:{name:"fade"}},[e.isChangingPassword?a("div",{staticClass:"account__change-password-shadow"},[a("div",{staticClass:"account__change-password-wrapper"},[a("span",{staticClass:"account__change-password-error"},[e._v(" "+e._s(e.oldPasswordError)+" ")]),a("app-editable-input",{staticClass:"account__change-password-input",attrs:{placeholder:"Password...",type:"password",borderColor:"#3f51b5",initialBorderColor:"#c5cae9"},on:{valueChanged:e.changeOldPassword,input:function(t){return e.setInputValue("oldPassword")}}}),a("span",{staticClass:"account__change-password-error"},[e._v(" "+e._s(e.newPasswordError)+" ")]),a("app-editable-input",{staticClass:"account__change-password-input",attrs:{placeholder:"New password...",type:"password",borderColor:"#3f51b5",initialBorderColor:"#c5cae9"},on:{input:function(t){return e.setInputValue("newPassword")}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),a("app-button",{staticClass:"account__change-password-change",attrs:{disabled:e.isDisabledChange},on:{click:e.changePassword}},[e._v(" Change ")]),a("button",{staticClass:"account__change-password-close",on:{click:e.turnIsChangingPassword}},[a("img",{staticClass:"account__change-password-icon",attrs:{src:n("2930")}})]),a("span",{staticClass:"account__change-password-title"},[e._v(" Changing password ")])],1)]):e._e()])],1)},be=[],ke=(n("25f0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"div",staticClass:"app-avatar-input",style:{width:e.avatarWidth}},[a("input",{ref:"input",staticClass:"app-avatar-input__input",attrs:{type:"file"},on:{change:e.onImageChanged}}),e.src?a("img",{ref:"image",staticClass:"app-avatar-input__image",attrs:{src:e.src}}):a("img",{staticClass:"app-avatar-input__image",attrs:{src:n("0d71")}}),"true"===e.isChangeble?a("button",{staticClass:"app-avatar-input__button",on:{click:e.onChangeImageClick}},[a("div",{staticClass:"app-avatar-input__icon-wrapper"},[a("svg",{staticClass:"app-avatar-input__icon",attrs:{viewBox:"0 0 19 19"}},[a("path",{attrs:{d:"m11.815 3.1554 3.865 3.865-9.7835 9.7835-3.8628-3.865 \n          9.7813-9.7835zm6.7978-0.93215-1.7236-1.7236c-0.6662-0.66613-1.7478-0.66613-2.4162 \n          0l-1.6511 1.6511 3.865 3.865 1.9259-1.9259c0.5167-0.51669 0.5167-1.3499 \n          0-1.8666zm-18.602 16.148c-0.070339 0.3166 0.21547 0.6002 0.53207 \n          0.5232l4.3069-1.0442-3.8628-3.865-0.97615 4.386z"}})])])]):e._e()])}),xe=[],Ee=a["a"].extend({name:"app-avatar-input",props:{src:{required:!0},isChangeble:{default:"true",type:String}},data(){return{avatarWidth:""}},mounted(){this.avatarWidth=this.$refs["div"].clientHeight+"px"},methods:{onChangeImageClick(){this.$refs.input.click()},onImageChanged(){const e=this.$refs.input.files[0];this.$emit("imageChanged",e)}}}),ye=Ee,Ie=(n("4075"),Object(b["a"])(ye,ke,xe,!1,null,"bb26c624",null)),Ae=Ie.exports,$e={name:"Account",data:function(){return{age:"Loading...",status:"Loading...",user:this.$store.state.user.getValue(),ageError:"",statusError:"",oldPasswordError:"",newPasswordError:"",isChangingPassword:!1,oldPassword:"",newPassword:""}},created:function(){var e=this;this.$store.state.user.subscribe((function(t){e.user=t,e.user&&(e.age=e.user.age?e.user.age.toString():"",e.status=e.user.status)}))},validations:{age:{numberOrNull:Object(Z["or"])(Object(Z["sameAs"])(""),Z["numeric"]),maxLength:Object(Z["maxLength"])(3)},status:{maxLength:Object(Z["maxLength"])(30)},oldPassword:{isEqual:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.user){n.next=2;break}return n.abrupt("return",!0);case 2:return n.prev=2,n.next=5,w.checkPassword(t.user._id,e);case 5:return n.abrupt("return",n.sent);case 8:n.prev=8,n.t0=n["catch"](2),console.log(n.t0.meesage);case 11:case"end":return n.stop()}}),n,null,[[2,8]])})))()}},newPassword:{minLength:Object(Z["minLength"])(8),isAlreadyUse:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.oldPassword===e){n.next=2;break}return n.abrupt("return",!0);case 2:return n.abrupt("return",!1);case 3:case"end":return n.stop()}}),n)})))()}}},watch:{$v:{handler:function(e){this.$v.age.$dirty&&(this.$v.age.numberOrNull?this.$v.age.maxLength?this.ageError="":this.statusError="Max count of chars is 3":this.ageError="The field is must be a number"),this.$v.status.$dirty&&(this.$v.status.maxLength?this.statusError="":this.statusError="Max count of chars is 30"),this.$v.oldPassword.$dirty&&(this.$v.oldPassword.isEqual?this.oldPasswordError="":this.oldPasswordError="Wrong password"),this.$v.newPassword.$dirty&&(this.$v.newPassword.minLength?this.$v.newPassword.isAlreadyUse||this.$v.oldPassword.isEqual?this.$v.newPassword.isAlreadyUse?this.newPasswordError="":this.newPasswordError="Passwords are equal":this.newPasswordError="":this.newPasswordError="Password must have 8 chars")},deep:!0}},computed:{isDisabledChange:function(){return!(!this.$v.newPassword.$invalid&&!this.$v.oldPassword.$invalid)}},methods:{changePassword:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.edit(e.user._id,{password:e.newPassword});case 3:n=t.sent,e.$store.commit("setUser",n),e.isChangingPassword=!1,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$emit("showError",t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},changeOldPassword:function(e){this.oldPassword=e},turnIsChangingPassword:function(){this.isChangingPassword=!this.isChangingPassword},setInputValue:function(e){switch(e){case"status":this.$v.status.$touch();break;case"age":this.$v.age.$touch();break;case"oldPassword":this.$v.oldPassword.$touch();break;case"newPassword":this.$v.newPassword.$touch();break}},onInfoChanged:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n.$v[e].$anyError){a.next=11;break}return a.prev=1,a.next=4,w.edit(n.user._id,Object(m["a"])({},e,t));case 4:r=a.sent,n.$store.commit("setUser",r),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](1),console.log(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})))()},onImageChanged:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w.stringifyImage(e);case 3:return a=n.sent,n.next=6,w.edit(t.user._id,{avatar:a});case 6:r=n.sent,t.$store.commit("setUser",r),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),console.log(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()}},components:{appAvatarInput:Ae,appEditableInput:P,appButton:ie}},je=$e,Oe=(n("fdcf"),Object(b["a"])(je,Ce,be,!1,null,"44c5a00d",null)),Re=Oe.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"messages"},[e._l(e.conferences,(function(e){return a("app-conference-item",{key:e._id,staticClass:"messages__conference-item",attrs:{conference:e,message:null}})})),a("button",{staticClass:"messages__create-conference-button",on:{click:e.turnCreateConference}},[a("svg",{staticClass:"messages__create-conference-icon",attrs:{viewBox:"0 0 30 30"}},[a("path",{attrs:{d:"M15 0C6.72914 0 0 6.72914 0 15C0 23.2709 6.72914 30 15 30C23.2709 \n        30 30 23.2709 30 15C30 6.72914 23.2709 0 15 0ZM23.75 15.625C23.75 15.9705 \n        23.4704 16.25 23.125 16.25H16.25V23.125C16.25 23.4705 15.9704 23.75 15.625 \n        23.75H14.375C14.0295 23.75 13.75 23.4705 13.75 23.125V16.25H6.87498C6.52951 \n        16.25 6.24996 15.9704 6.24996 15.625V14.375C6.24996 14.0295 6.52951 13.75 \n        6.87498 13.75H13.75V6.87498C13.75 6.52951 14.0295 6.24996 14.375 \n        6.24996H15.625C15.9704 6.24996 16.25 6.52951 16.25 \n        6.87498V13.75H23.125C23.4704 13.75 23.75 14.0295 23.75 14.375V15.625V15.625Z"}})])]),a("transition",{attrs:{name:"fade"}},[e.isCreating?a("div",{staticClass:"messages__create-conference-shadow"},[a("div",{staticClass:"messages__create-conference-wrapper"},[a("app-avatar-input",{staticClass:"messages__create-conference-image-input",attrs:{src:e.newConfImage},on:{imageChanged:e.onNewConfImageChanged}}),a("span",{staticClass:"messages__create-conference-error"},[e._v(" "+e._s(e.newConfTitleError)+" ")]),a("app-editable-input",{staticClass:"messages__create-conference-input",attrs:{placeholder:"Title...",borderColor:"#3f51b5",initialBorderColor:"#c5cae9"},on:{input:function(t){return e.setInputValue("newConfTitle")}},model:{value:e.newConfTitle,callback:function(t){e.newConfTitle=t},expression:"newConfTitle"}}),a("button",{staticClass:"messages__create-conference-lose",on:{click:e.turnCreateConference}},[a("img",{staticClass:"messages__create-conference-icon",attrs:{src:n("2930")}})]),a("app-button",{staticClass:"messages__create-conference-create",attrs:{disabled:e.isDisabledCreate},on:{click:e.createNewConf}},[e._v(" Create ")]),a("span",{staticClass:"messages__create-conference-title"},[e._v(" Creating conference ")])],1)]):e._e()])],2)},Be=[],Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-conference-item"},[n("app-avatar-input",{staticClass:"app-conference-item__avatar-input",attrs:{src:e.conference.avatar,isChangeble:"false"}}),n("div",{staticClass:"app-conference-item__info-wrapper"},[n("span",{staticClass:"app-conference-item__message-name"},[e._v(" "+e._s(e.conference.name)+" ")]),e.message?n("span",{staticClass:"app-conference-item__message-text"},[e._v(" "+e._s(e.message.text)+" ")]):n("span",{staticClass:"app-conference-item__default-message"},[e._v(" There are no posts yet ")]),e.message?n("span",{staticClass:"app-conference-item__message-date"},[e._v(" "+e._s(e.message.date)+" ")]):e._e()])],1)},Pe=[],Ue={name:"app-conference-item",props:{conference:{type:Object,required:!0},message:{default:null}},components:{AppAvatarInput:Ae}},Me=Ue,Le=(n("cd0a"),Object(b["a"])(Me,Qe,Pe,!1,null,"0edc5de4",null)),ze=Le.exports,Te={name:"Messages",data:function(){return{conferences:this.$store.state.conferences.getValue(),isCreating:!1,newConfImage:null,newConfTitle:"",newConfTitleError:""}},created:function(){var e=this;this.$store.state.conferences.subscribe((function(t){e.conferences=t}))},validations:{newConfTitle:{required:Z["required"],minLength:Object(Z["minLength"])(1)}},watch:{$v:{handler:function(e){this.$v.newConfTitle.$dirty&&(this.$v.newConfTitle.required&&this.$v.newConfTitle.minLength?this.newConfTitleError="":this.newConfTitleError="The field is required")},deep:!0}},computed:{isDisabledCreate:function(){return!!this.$v.newConfTitle.$invalid}},methods:{turnCreateConference:function(){this.isCreating=!this.isCreating},setInputValue:function(e){switch(e){case"newConfTitle":this.$v.newConfTitle.$touch();break}},onNewConfImageChanged:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,V.stringifyImage(e);case 3:a=n.sent,t.newConfImage=a,n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.log(n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},createNewConf:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.create(e.newConfTitle,e.newConfImage);case 3:n=t.sent,e.$store.commit("addConferences",n),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},components:{AppConferenceItem:ze,AppEditableInput:P,AppAvatarInput:Ae,AppButton:ie}},Ge=Te,Ne=(n("7146"),Object(b["a"])(Ge,Se,Be,!1,null,"4d7ca91e",null)),Ve=Ne.exports;a["a"].use(K["a"]);var Ze=[{path:"/",name:"home",component:_e},{path:"/account",name:"account",component:Re},{path:"/messages",name:"messages",component:Ve}],He=new K["a"]({mode:"history",base:"/",routes:Ze}),De=He,Je=n("2f62"),qe=n("dba1");a["a"].use(Je["a"]);var Ye=new Je["a"].Store({state:{user:new qe["a"],conferences:new qe["a"]([])},mutations:{setUser:function(e,t){e.user.next(t)},setDefaultUser:function(e){e.user.next(null),e.conferences.next([])},setConferences:function(e,t){e.conferences.next(t)},addConferences:function(e,t){e.conferences.getValue().unshift(t)}},actions:{},modules:{}}),Ke=n("1dce"),Fe=n.n(Ke);a["a"].config.productionTip=!1,a["a"].use(Fe.a),new a["a"]({router:De,store:Ye,render:function(e){return e(q)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},6454:function(e,t,n){},6832:function(e,t,n){"use strict";var a=n("0c53"),r=n.n(a);r.a},7146:function(e,t,n){"use strict";var a=n("cb4a"),r=n.n(a);r.a},7498:function(e,t,n){"use strict";var a=n("7ef7"),r=n.n(a);r.a},"78ac":function(e,t,n){e.exports=n.p+"img/alex.542ede4b.png"},"7dde":function(e,t,n){"use strict";var a=n("2e33"),r=n.n(a);r.a},"7ef7":function(e,t,n){},8555:function(e,t,n){e.exports=n.p+"img/vovan.f52d4ee7.png"},8999:function(e,t,n){e.exports=n.p+"img/master.c163644d.png"},"96a1":function(e,t,n){},"99e0":function(e,t,n){e.exports=n.p+"img/register.03f267fa.svg"},"9c0c":function(e,t,n){},afd7:function(e,t,n){e.exports=n.p+"img/loading.2a010fe6.svg"},b71e:function(e,t,n){},cb4a:function(e,t,n){},cd0a:function(e,t,n){"use strict";var a=n("0e2c"),r=n.n(a);r.a},d2ad:function(e,t,n){e.exports=n.p+"img/andrey.5372f181.png"},d625:function(e,t,n){e.exports=n.p+"img/login.9caaea35.svg"},e347:function(e,t,n){e.exports=n.p+"img/logo.fe457d3a.svg"},e991:function(e,t,n){"use strict";var a=n("b71e"),r=n.n(a);r.a},fdcf:function(e,t,n){"use strict";var a=n("6454"),r=n.n(a);r.a}});
//# sourceMappingURL=app.6bcadf42.js.map