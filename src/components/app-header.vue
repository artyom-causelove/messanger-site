<template>
  <header class="app-header">
    <button
      @click="onGoBack"
      class="app-header__button">
      <svg class="app-header__icon" width="19" height="31" viewBox="0 0 19 31">
        <path d="m6.1199 15.507 11.597-11.598c0.3193-0.31856 0.495-0.7445 0.495-1.1987
          0-0.45442-0.1757-0.8801-0.495-1.1992l-1.0162-1.0157c-0.3188-0.31958-0.745-0.4955-1.1992-0.4955-0.4541
          0-0.8798 0.17592-1.1989 0.4955l-13.808 13.808c-0.32033 0.3201-0.49575 0.7478-0.49449
          1.2025-0.0012602 0.4567 0.1739 0.8839 0.49449 1.2042l13.795 13.794c0.3191 0.3196
          0.7448 0.4955 1.1992 0.4955 0.4542 0 0.8799-0.1759 1.1992-0.4955l1.0159-1.0157c0.6611-0.6611
          0.6611-1.7372 0-2.3981l-11.584-11.584z"
        />
      </svg>
    </button>
    <slot></slot>
    <button
      @click="onLogout"
      class="app-header__button">
      <svg class="app-header__icon" width="31" height="31" viewBox="0 0 31 31">
        <path d="m30.9 13.715c-0.0659-0.1576-0.1602-0.3009-0.2803-0.4211l-3.8737-3.8737c-0.505-0.50375-1.3214-0.50375-1.8264
          0-0.505 0.50502-0.505 1.3226 0 1.8264l1.6701 1.6701h-7.2153c-0.7143 0-1.2916
          0.5787-1.2916 1.2917s0.5773 1.2916 1.2916 1.2916h7.2152l-1.6701 1.6701c-0.505
          0.5051-0.505 1.3227 0 1.8264 0.2519 0.2532 0.5825 0.3785 0.9132 0.3785 0.3308
          0 0.6614-0.1253 0.9133-0.3785l3.8737-3.8737c0.1201-0.1189 0.2144-0.2622
          0.2803-0.4211 0.1304-0.315 0.1304-0.6715 0-0.9867z"
        />
        <path d="m21.958 18.083c-0.7143 0-1.2917 0.5787-1.2917
          1.2917v6.4583h-5.1666v-20.667c0-0.56963-0.3746-1.0734-0.921-1.2374l-4.486-1.3459h10.574v6.4583c0
          0.713 0.5774 1.2916 1.2917 1.2916 0.7142 0 1.2916-0.57861
          1.2916-1.2916v-7.75c0-0.71306-0.5774-1.2917-1.2916-1.2917h-20.667c-0.0465 0-0.08785
          0.019375-0.13302 0.024521-0.06073 0.0064785-0.11625 0.016772-0.17437 0.031-0.13562
          0.034875-0.25835 0.087854-0.37327 0.16015-0.028396 0.018103-0.063271
          0.019375-0.090396 0.040021-0.010414 0.00781-0.014289 0.022039-0.024642 0.029789-0.14077
          0.11104-0.25829 0.24667-0.34354 0.40815-0.018103 0.034875-0.021978 0.072353-0.036146
          0.1085-0.041354 0.098147-0.086522 0.19375-0.10202 0.30225-0.0064785 0.03875 0.0051465
          0.0749 0.003875 0.11238-0.0012715 0.02585-0.018104 0.0491-0.018104 0.07489v25.833c0
          0.6162 0.43527 1.1458 1.0385 1.2659l12.917 2.5833c0.084 0.0182 0.1692 0.0259 0.2532
          0.0259 0.2957 0 0.5864-0.102 0.8189-0.2932 0.2983-0.2454 0.4727-0.611
          0.4727-0.9985v-1.2916h6.4584c0.7142 0 1.2916-0.5787
          1.2916-1.2917v-7.75c0-0.713-0.5774-1.2917-1.2916-1.2917z"
        />
      </svg>
    </button>
  </header>
</template>

<script>
import userService from '@/services/user.service'

export default {
  name: 'app-header',
  methods: {
    onGoBack () {
      this.$router.go(-1)
    },
    async onLogout () {
      try {
        await userService.logout()
        this.$router.push({ name: 'home' })
        this.$store.commit('setDefaultUser')
      } catch (exception) {
        console.log(exception.message)
      }
    }
  }
}
</script>

<style lang="scss" scoped>
.app-header {
  display: flex;

  align-items: center;

  height: 50px;
  width: 100%;

  background-color: $main-color;

  &__button {
    display: flex;

    align-items: center;

    border: none;
    outline: none;
    background-color: transparent;

    &:first-child {
      margin-left: 10px;
    }

    &:last-child {
      margin-right: 10px;
    }
  }

  &__icon {
    fill: whitesmoke;

    &:hover {
      fill: $hover-color;
    }
  }
}
</style>
